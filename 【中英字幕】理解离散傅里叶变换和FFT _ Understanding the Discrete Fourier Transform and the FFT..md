This Tech Talk answers a few common questions that are often asked about the DFT and the FFT. It covers an overview of the algorithm where you’ll be walked through an understanding of why you might look at the absolute value of the FFT, how bin width is calculated, and what the difference is between one-sided and two-sided FFTs

https://youtu.be/QmgJmh2I3Fw?si=HsSkqKix77X7n4xy视频链接

1
0:0:0,0 --> 0:0:4,6
想象一下，你正在对你开发的某个硬件进行振动分析。

2
0:0:4,67 --> 0:0:6,44
这个硬件放在一个振动台上，

3
0:0:6,44 --> 0:0:8,96
振动台会对硬件施加随机振动。

4
0:0:8,96 --> 0:0:12,32
你使用加速度计测量硬件的响应。

5
0:0:12,32 --> 0:0:15,5
这个测量结果由一台数字计算机捕获。

6
0:0:15,5 --> 0:0:18,32
因此，你得到的是

7
0:0:18,32 --> 0:0:21,86
在固定时间间隔内采样的有限数据。

8
0:0:21,8 --> 0:0:26,4
在振动分析以及许多其他应用中，

9
0:0:26,42 --> 0:0:29,21
查看信号的频谱通常很有帮助，

10
0:0:29,2 --> 0:0:34,6
也就是将时域信号分解为其组成的频率成分。

11
0:0:34,64 --> 0:0:36,95
一旦我们有了频率信息，

12
0:0:36,95 --> 0:0:39,8
我们可以选择查看幅度谱、

13
0:0:39,8 --> 0:0:42,74
功率谱或功率谱密度。

14
0:0:42,7 --> 0:0:48,0
每个都提供了一些我们无法从时域得到的信息。

15
0:0:48,2 --> 0:0:51,53
对于像我们这里这样的有限离散数据，

16
0:0:51,53 --> 0:0:54,95
要得到这些表示形式的第一步

17
0:0:54,95 --> 0:0:58,73
是进行离散傅里叶变换（DFT）。

18
0:0:58,73 --> 0:1:2,48
而计算DFT最有效的方法

19
0:1:2,48 --> 0:1:6,74
是使用快速傅里叶变换算法（FFT）。

20
0:1:6,74 --> 0:1:8,75
因此，在这个视频中，我想

21
0:1:8,7 --> 0:1:14,3
回答一些关于DFT和FFT的常见问题。

22
0:1:14,3 --> 0:1:17,3
我认为这会非常有趣且有用。

23
0:1:17,3 --> 0:1:18,83
所以我希望你能继续观看。

24
0:1:18,83 --> 0:1:22,968
我是Brian，欢迎来到MATLAB技术讲座。

25
0:1:22,968 --> 0:1:24,76
首先，我们的第一个问题是，

26
0:1:24,7 --> 0:1:28,3
为什么要使用离散傅里叶变换？

27
0:1:28,3 --> 0:1:36,1
DFT将信号从时域或空间域（如距离）转换到频域。

28
0:1:36,1 --> 0:1:38,8
进行这种转换的主要原因之一

29
0:1:38,8 --> 0:1:41,44
是因为我们感兴趣的信号特征

30
0:1:41,44 --> 0:1:45,52
在时域或空间域中并不总是显而易见的。

31
0:1:45,5 --> 0:1:50,4
例如，这里有两个以200赫兹采样的时域信号。![image-20251107153542058](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107153542058.png)

32
0:1:50,44 --> 0:1:53,44
我的问题是，哪一个信号

33
0:1:53,44 --> 0:1:56,26
有明显的60赫兹分量？

34
0:1:56,26 --> 0:1:58,15
这并不十分明显，对吧？

35
0:1:58,15 --> 0:2:0,19
它们看起来都很相似。

36
0:2:0,19 --> 0:2:3,16
但如果我们将它们转换到频域，![image-20251107153617950](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107153617950.png)

37
0:2:3,16 --> 0:2:5,26
答案就清晰多了。

38
0:2:5,26 --> 0:2:8,77
显然，第一个信号

39
0:2:8,77 --> 0:2:11,83
有明显的60赫兹峰值。

40
0:2:11,83 --> 0:2:14,2
因此，我们可以使用频域

41
0:2:14,2 --> 0:2:17,2
来理解信号的频率组成。

42
0:2:17,2 --> 0:2:20,65
**要理解DFT如何进行这种转换，**

43
0:2:20,65 --> 0:2:22,9
我们需要看一下它的方程。

44
0:2:22,9 --> 0:2:24,88
我知道这里有很多符号，

45
0:2:24,88 --> 0:2:27,22
但其实它非常简单。

46
0:2:27,2 --> 0:2:32,5
这个蓝色变量xₙ是我们开始时的离散时域信号。

47
0:2:32,5 --> 0:2:37,3
我们将把它转换为频域信号xₖ。

48
0:2:37,3 --> 0:2:39,61
为此，我们将时间信号与这个

49
0:2:39,61 --> 0:2:43,57
黄色部分相乘，黄色部分是e的复数次方。

50
0:2:43,57 --> 0:2:46,15
如果你不熟悉复指数，

51
0:2:46,1 --> 0:2:51,4
它等于cos(指数)+isin(指数)。

52
0:2:51,49 --> 0:2:54,49
因此，DFT本质上![image-20251107153733448](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107153733448.png)

53
0:2:54,4 --> 0:3:2,8
就是将时间信号乘以特定频率的正弦和余弦信号。

54
0:3:2,83 --> 0:3:5,62
然后对结果进行求和。

55
0:3:5,6 --> 0:3:12,1
我们对不同的k值（即不同的频率）进行这种求和。

56
0:3:12,16 --> 0:3:15,22
接下来，我想通过一个简单的图形演示

57
0:3:15,22 --> 0:3:20,8
来帮助大家理解这个方程的工作原理。

58
0:3:20,0 --> 0:3:24,2
我在MATLAB中做了一个小应用程序来展示DFT的工作原理。

59
0:3:24,2 --> 0:3:28,9
这里的时间信号x[n]是一个纯正弦波，有10个采样点。![image-20251107154038741](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107154038741.png)

60
0:3:28,93 --> 0:3:31,6
根据DFT的定义，

61
0:3:31,0 --> 0:3:38,2
我们将这个信号与e的虚数次方相乘，我称这个整体为相关信号。![image-20251107154057658](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107154057658.png)

62
0:3:38,23 --> 0:3:42,23
希望这个名字很快就能解释清楚。

63
0:3:42,23 --> 0:3:45,8
如果我们设k=0，那么我们的相关信号

64
0:3:45,8 --> 0:3:52,0
就是e的0次方，它产生一个恒定的实数值1和虚数值0。

65
0:3:52,7 --> 0:3:54,83
当我们将其与时间信号相乘

66
0:3:54,83 --> 0:3:58,67
并对结果求和时，我们得到一个非常小的值。

67
0:3:58,67 --> 0:4:0,95
从数学上讲，这是因为

68
0:4:0,95 --> 0:4:3,8
当我们将时间信号乘以1时，

69
0:4:3,8 --> 0:4:6,32
我们得到的是完全相同的信号。

70
0:4:6,3 --> 0:4:10,5
因此，本质上，我们只是在对时域信号的值进行求和。

71
0:4:10,5 --> 0:4:14,9
这里有相等的正值（这四个）

72
0:4:14,96 --> 0:4:17,54
和负值（这四个）。

73
0:4:17,54 --> 0:4:21,2
它们相互抵消，结果接近于0。

74
0:4:21,2 --> 0:4:24,11
我们可以将这个非常低的值

75
0:4:24,1 --> 0:4:31,2
理解为**时域信号**与**频率为0的信号相关性**非常低。![image-20251107154211779](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107154211779.png)

76
0:4:31,2 --> 0:4:35,8
现在让我们来看一组新的频率，比如k=1。

77
0:4:35,87 --> 0:4:38,3
我们的相关信号现在由

78
0:4:38,0 --> 0:4:42,4
一个正弦波和一个余弦波组成，其周期等于时间信号的长度。![image-20251107154652278](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107154652278.png)

79
0:4:42,44 --> 0:4:46,7
如果我们将这些与x[n]相乘并对结果求和，

80
0:4:46,7 --> 0:4:49,28
得到的值会更大。

81
0:4:49,28 --> 0:4:51,8
我们可以直观地看到，

82
0:4:51,8 --> 0:4:54,8
相关信号的频率与时间信号的频率接近。

83
0:4:54,8 --> 0:5:0,3
因此，至少对于与时间信号完全反相的虚部来说，

84
0:5:0,32 --> 0:5:3,59
两者的乘积始终为负。

85
0:5:3,59 --> 0:5:7,67
因此，求和结果也将是负的

86
0:5:7,67 --> 0:5:12,92
所以在k=1时，两者（时域和频率为1的信号）之间有很强的相关性。

87
0:5:12,92 --> 0:5:16,94
如果我们移动到k=2，相关性再次下降。![image-20251107155223242](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107155223242.png)

88
0:5:16,94 --> 0:5:19,16
这就是DFT的全部工作。

89
0:5:19,16 --> 0:5:22,7
**它遍历n个不同的频率**，

90
0:5:22,0 --> 0:5:30,6
其中**k从0到n-1，并计算其与时间信号的相关性**。

91
0:5:30,63 --> 0:5:33,6
这很酷，我们可以将DFT

92
0:5:33,6 --> 0:5:38,2
视为**计算时间信号与一系列不同频率之间的相关性**。

93
0:5:38,2 --> 0:5:41,6
但还有一种更酷的方式来理解DFT，

94
0:5:41,67 --> 0:5:46,38
那就是将其视为一种通过矩阵乘法实现的旋转操作。

95
0:5:46,3 --> 0:5:52,1
如果我们回到方程，可以将其重写为矩阵乘法。

96
0:5:52,14 --> 0:5:56,4
xₙ只是一个1×n的离散时间数据向量。

97
0:5:56,4 --> 0:6:0,9
黄色指数部分是一个n×n的复数矩阵。

98
0:6:0,9 --> 0:6:5,9
第一列对应于k=0时的正弦和余弦，![image-20251107155419204](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107155419204.png)

99
0:6:5,97 --> 0:6:8,13
第二列对应于k=1，

100
0:6:8,13 --> 0:6:11,97
依此类推，直到k=n-1。

101
0:6:11,97 --> 0:6:14,31
现在，当你执行这个乘法时，

102
0:6:14,31 --> 0:6:16,29
对于xₖ的第一个分量，

103
0:6:16,2 --> 0:6:21,9
我们得到时间信号与k=0时的频率的内积。

104
0:6:21,9 --> 0:6:27,6
第二个分量是与k=1的内积，依此类推。![image-20251107155508276](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107155508276.png)

105
0:6:27,6 --> 0:6:31,9
因此，在这种形式下，更容易看出DFT

106
0:6:31,9 --> 0:6:40,2
是在一组基函数（xₙ）和另一组基函数（Xₖ）之间进行旋转。![image-20251107155557097](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107155557097.png)

107
0:6:40,2 --> 0:6:47,9
**这个n×n矩阵实现了从时间到复指数的旋转。**

108
0:6:47,9 --> 0:6:52,1
实际上，这是快速傅里叶变换的一个很好的过渡。

109
0:6:52,1 --> 0:6:57,3
如果信号长度相对较短，这种矩阵乘法很容易计算。

110
0:6:57,37 --> 0:7:0,73
如果只有10个样本，那么这是一个10×10的矩阵。

111
0:7:0,73 --> 0:7:2,41
但如果你处理的信号

112
0:7:2,41 --> 0:7:5,35
有成千上万的样本，

113
0:7:5,3 --> 0:7:10,7
那么执行这种矩阵乘法计算成本可能会变得很高。

114
0:7:10,78 --> 0:7:13,24
但事实证明，由于各种各样的对称性

115
0:7:13,24 --> 0:7:17,29
**在这个乘法运算中，许多操作是重复的。**

116
0:7:17,29 --> 0:7:19,72
**因此，你可以执行一次计算，**

117
0:7:19,72 --> 0:7:23,11
然后**将结果填充到多个位置。**

118
0:7:23,1 --> 0:7:30,6
**FFT算法利用重复操作来减少总体计算量。**

119
0:7:30,67 --> 0:7:34,54
因此，它们**产生与DFT完全相同的结果**，

120
0:7:34,54 --> 0:7:37,14
**只是更高效。**

121
0:7:37,14 --> 0:7:39,9
要了解FFT算法

122
0:7:39,9 --> 0:7:42,51
以及这些计算效率

123
0:7:42,51 --> 0:7:46,35
如何使DFT成为科学和工程的可行选择，

124
0:7:46,35 --> 0:7:49,65
请查看Veritasium关于该主题的精彩视频。https://youtu.be/nmgFG7PUHfo?si=vsCc-LcczZv5oxDl

125
0:7:49,65 --> 0:7:53,57
链接在下面的描述中。

126
0:7:53,57 --> 0:7:56,87
好了，现在我们知道FFT只是计算DFT的一种高效方法，

127
0:7:56,8 --> 0:8:2,6
我想用视频的最后一部分回答一些实际问题，

128
0:8:2,6 --> 0:8:7,7
并更深入地探讨我们如何使用和解释结果。

129
0:8:7,7 --> 0:8:15,0
第一个问题是，为什么我们有时只看FFT的绝对值？

130
0:8:15,8 --> 0:8:18,86
回想一下，FFT产生的是一个复数结果。

131
0:8:18,86 --> 0:8:20,66
我们可以这样理解：

132
0:8:20,6 --> 0:8:27,5
**FFT的实部表示时间信号与给定频率的余弦波的相关性**，

133
0:8:27,5 --> 0:8:32,9
而**虚部**则**表示它与相同频率的正弦波的相关性**。

134
0:8:32,9 --> 0:8:40,2
如果你想知道原始信号中**频率**的**相位**，或者你想

135
0:8:40,2 --> 0:8:44,8
**从频率数据中精确重建信号，那么了解这两者都是必要的**。

136
0:8:44,87 --> 0:8:48,17
但**如果你只对频率的幅度感兴趣**，

137
0:8:48,1 --> 0:8:54,5
即**信号中某个特定频率的含量**（无论相位如何），

138
0:8:54,51 --> 0:8:59,24
那么你**只需要看绝对值即可**。![image-20251107160359675](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107160359675.png)

139
0:8:59,24 --> 0:9:2,24
因此，在许多信号处理应用中，

140
0:9:2,24 --> 0:9:5,54
比如回答我们关于60赫兹的问题，

141
0:9:5,5 --> 0:9:9,4
你不需要实部和虚部来确定这一点，

142
0:9:9,44 --> 0:9:11,51
只需要幅度。

143
0:9:11,51 --> 0:9:16,67
所以我们取绝对值来得到这个幅度。

144
0:9:16,67 --> 0:9:18,538
接下来，

145
0:9:18,5 --> 0:9:23,8
我想讨论一下单边FFT和双边FFT的区别。

146
0:9:23,84 --> 0:9:25,73
答案涉及理解

147
0:9:25,7 --> 0:9:30,7
FFT返回的是正频率和负频率，即双边。

148
0:9:30,7 --> 0:9:35,3
如果你从k=0开始进行FFT，直到k=n-1，![image-20251107160616125](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107160616125.png)

149
0:9:35,3 --> 0:9:37,34
那么正频率在左侧，

150
0:9:37,34 --> 0:9:39,71
负频率在右侧。

151
0:9:39,71 --> 0:9:42,95
奈奎斯特频率是两者之间的边界。

152
0:9:42,95 --> 0:9:45,53
这是基于奈奎斯特采样定理，

153
0:9:45,5 --> 0:9:51,2
该定理指出我们只能知道采样率一半以下的信号信息。

154
0:9:51,26 --> 0:9:54,652
有时将FFT移位，![image-20251107160655982](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107160655982.png)

155
0:9:54,652 --> 0:9:56,36
使负信号在左侧，

156
0:9:56,36 --> 0:9:57,777
正信号在右侧是有帮助的。

157
0:9:57,7 --> 0:10:3,8
但只要你理解哪些是负的，哪些是正的，这并不是必要的。

158
0:10:3,82 --> 0:10:5,35
回到问题

159
0:10:5,35 --> 0:10:8,29
如果你查看FFT的整个范围，

160
0:10:8,29 --> 0:10:12,46
那么这就是双边FFT，而单边FFT

161
0:10:12,4 --> 0:10:17,7
只查看正频率，即频谱的一侧。![image-20251107160735272](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107160735272.png)

162
0:10:17,77 --> 0:10:19,72
为什么我们要这样做？

163
0:10:19,72 --> 0:10:23,8
为什么要丢弃一半的信息？

164
0:10:23,8 --> 0:10:27,64
首先，如果xₙ是一个实信号（即它不是复数），

165
0:10:27,6 --> 0:10:35,0
并且我们取xₙ的FFT的绝对值，那么得到的频谱

166
0:10:35,5 --> 0:10:39,19
在正频率和负频率之间是镜像的。![image-20251107160842277](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107160842277.png)

167
0:10:39,19 --> 0:10:41,5
我们可以在这里看到原因。

168
0:10:41,5 --> 0:10:45,8
让我隐藏时间信号，这样我们只能看到相关信号。

169
0:10:45,8 --> 0:10:50,0
我们知道，当k=0时，这对应于0频率，

170
0:10:50,5 --> 0:10:52,15
既不是正的也不是负的。

171
0:10:52,1 --> 0:10:57,6
但对于**k=1**，频率的周期**等于**时间信号的长度。![image-20251107161242142](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107161242142.png)

172
0:10:57,6 --> 0:11:4,3
当**k=2**时，频率的周期是时间信号长度的**一半**。![image-20251107161255483](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107161255483.png)

173
0:11:4,37 --> 0:11:6,89
随着k的增加，这种情况会继续下去，

174
0:11:6,8 --> 0:11:12,9
我们得到1/3、1/4，依此类推，**直到奈奎斯特频率**。

175
0:11:12,93 --> 0:11:15,36
我知道这有点难以看清，

176
0:11:15,36 --> 0:11:17,91
但如果我们增加k超过这一点（奈奎斯特频率），

177
0:11:17,91 --> 0:11:20,4
**频率开始下降**，（为什么？）

178
0:11:20,4 --> 0:11:24,15
而且频率也是负的。

179
0:11:24,15 --> 0:11:26,34
我们可以在这里更容易地看到这一点。

180
0:11:26,34 --> 0:11:29,4
注意，在k=9（最小的负频率）

181
0:11:29,4 --> 0:11:32,97
和k=1（最小的正频率）之间，

182
0:11:32,9 --> 0:11:37,5
相关信号是相同的频率，![image-20251107161441063](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107161441063.png)

183
0:11:37,53 --> 0:11:39,76
只不过是负频率。

184
0:11:39,7 --> 0:11:43,3
你会注意到这里的**实部没有改变符号**，

185
0:11:43,33 --> 0:11:46,81
这是因为**余弦是一个偶函数**，（图片里那个没变化的是余弦）

186
0:11:46,8 --> 0:11:51,7
所以正数的余弦与负数的余弦相同。

187
0:11:51,73 --> 0:11:54,37
但虚部确实改变了符号，

188
0:11:54,37 --> 0:11:58,57
因为正弦是一个奇函数。

189
0:11:58,57 --> 0:12:1,69
这意味着在k=1和k=9之间，

190
0:12:1,69 --> 0:12:4,3
FFT的幅度保持不变。![image-20251107161636982](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107161636982.png)

191
0:12:4,3 --> 0:12:8,62
对于k=2和8、k=3和7等也是如此，

192
0:12:8,62 --> 0:12:12,54
直到我们达到奈奎斯特频率。![image-20251107161702689](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107161702689.png)

193
0:12:12,54 --> 0:12:16,38
**k=0和k=奈奎斯特频率**

194
0:12:16,38 --> 0:12:18,9
**都是唯一的值**，

195
0:12:18,9 --> 0:12:19,44
**不会在其他地方重复**。

196
0:12:19,4 --> 0:12:26,6
因此，**在单边FFT中，我们希望保留这两个频率以及其余的正频率**。![image-20251107161855520](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107161855520.png)

197
0:12:26,64 --> 0:12:29,49
因此，当**时间样本数为偶数**时

198
0:12:29,49 --> 0:12:34,5
比如这里的**n=10**，对于单边FFT，

199
0:12:34,5 --> 0:12:39,72
我们需要保留n/2 + 1个点，

200
0:12:39,72 --> 0:12:43,77
这个+1是为了包含奈奎斯特频率。

201
0:12:43,77 --> 0:12:46,47
然而，如果我们**有奇数个样本**

202
0:12:46,4 --> 0:12:50,9
比如**n=11**，那么我们**实际上不会在FFT中得到奈奎斯特频率**，

203
0:12:50,94 --> 0:12:53,64
因为它在这种情况下被跳过了

204
0:12:53,64 --> 0:12:55,92
在k=5和k=6之间。

205
0:12:55,92 --> 0:12:58,2
因此，对于奇数个样本，

206
0:12:58,0 --> 0:13:3,4
我们取n/2，由于n是奇数，会剩下1/2。![image-20251107161956659](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107161956659.png)

207
0:13:3,48 --> 0:13:5,64
因此，我们需要**向上取整**。

208
0:13:5,64 --> 0:13:11,75
所以对于11个样本，单边FFT将包含6个点。![image-20251107162013701](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107162013701.png)

209
0:13:11,7 --> 0:13:14,6
好了，我们一直在谈论正频率和负频率，

210
0:13:14,6 --> 0:13:20,8
但我还没有解释变量k如何对应具体的频谱频率。

211
0:13:20,84 --> 0:13:23,9
我们知道k=0对应于0赫兹。

212
0:13:23,9 --> 0:13:26,84
我之前提到过，**k=1对应于一个频率**，

213
0:13:26,84 --> 0:13:30,17
其**周期等于时间信号的长度**，

214
0:13:30,1 --> 0:13:35,8
而**k=2在同一周期内产生两个波**，依此类推。

215
0:13:35,81 --> 0:13:40,82
因此，**k直到奈奎斯特频率**（因为超过奈奎斯特频率之后都是负频率了）都指的是

216
0:13:40,8 --> 0:13:45,3
**在时间域信号长度内完成的周期数**。![image-20251107162250830](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107162250830.png)

217
0:13:45,38 --> 0:13:47,84
如果我们希望频谱**频率**

218
0:13:47,84 --> 0:13:50,39
以**赫兹**或每秒周期数表示，

219
0:13:50,3 --> 0:13:55,6
那么它就是**k个周期除以信号的总秒数**。

220
0:13:55,6 --> 0:14:2,0
或者我们可以将其写为**k乘以采样频率除以样本数**。![image-20251107162426301](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107162426301.png)

221
0:14:2,0 --> 0:14:7,8
因此，我们可以使用这个转换将FFT绘制为频率的函数。

222
0:14:7,85 --> 0:14:10,76
你可能还听说过“**频宽**”这个术语。

223
0:14:10,76 --> 0:14:15,17
这是**FFT中每个频率区间的宽度**。

224
0:14:15,17 --> 0:14:18,2
如果我们回到这里计算的频谱，

225
0:14:18,2 --> 0:14:22,4
频宽就是**每个样本之间的频率宽度**。

226
0:14:22,43 --> 0:14:25,4
比如样本0和样本1之间的宽度是多少？![image-20251107162526151](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107162526151.png)

227
0:14:25,4 --> 0:14:28,94
然后从样本1到样本2，依此类推。

228
0:14:28,94 --> 0:14:31,31
我们已经知道答案了，

229
0:14:31,31 --> 0:14:34,49
只需在这个方程中**设k=1**，

230
0:14:34,49 --> 0:14:37,99
我们就得到了两个样本之间的宽度。![image-20251107162911657](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107162911657.png)

231
0:14:37,99 --> 0:14:40,42
例如，我有一个蓝色的时间信号，

232
0:14:40,42 --> 0:14:42,73
其主频为60赫兹。

233
0:14:42,73 --> 0:14:46,75
我有**0.1秒的数据**，采样率为**200赫兹**。![image-20251107162951856](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107162951856.png)

234
0:14:46,75 --> 0:14:48,34
FFT在右侧，

235
0:14:48,34 --> 0:14:51,22
我们可以看到频宽为10赫兹，

236
0:14:51,22 --> 0:14:54,76
并且在60赫兹处有一个小峰值。

237
0:14:54,76 --> 0:14:58,0
如果我们希望**频宽更窄**，

238
0:14:58,0 --> 0:15:3,6
**只需使用更长的数据周期或更多的样本即可**。

239
0:15:3,61 --> 0:15:6,49
看，当我**增加信号长度**时，![image-20251107163033409](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107163033409.png)

240
0:15:6,49 --> 0:15:9,1
频宽变得更小。

241
0:15:9,1 --> 0:15:13,9
我们还可以看到**60赫兹的峰值变得更加明显**。

242
0:15:13,96 --> 0:15:16,12
这是因为**随着数据的增加**，

243
0:15:16,12 --> 0:15:18,76
我们也**提高了频率分辨率**。![image-20251107163108117](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107163108117.png)

244
0:15:18,76 --> 0:15:23,22
每个频率区间内的信号更多了。

245
0:15:23,2 --> 0:15:28,1
然而，我们也可以**在不增加额外数据的情况下调整频宽**。

246
0:15:28,14 --> 0:15:32,34
我们可以**通过在信号末尾填充0**来实现这一点。

247
0:15:32,3 --> 0:15:38,9
例如，如果我们**从完全相同的0.1秒数据开始，并在信号末尾添加0**，

248
0:15:38,94 --> 0:15:43,3
我们可以看到**频宽再次减小**。![image-20251107163226477](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107163226477.png)

249
0:15:43,3 --> 0:15:46,78
然而，尽管这改善了可视化效果，

250
0:15:46,78 --> 0:15:49,87
但**并没有提高频率分辨率**。

251
0:15:49,8 --> 0:15:56,0
我们本质上是在**对频率信号进行插值，并通过更密集的采样填充它**。

252
0:15:56,2 --> 0:15:59,38
**添加0并不会改变整体频率分辨率**，

253
0:15:59,38 --> 0:16:2,41
**因为我们没有添加任何额外的信号。**

254
0:16:2,4 --> 0:16:8,9
我们可以看到这里的60赫兹峰值更像是一个小凸起。

255
0:16:8,9 --> 0:16:12,4
好了，我希望所有这些关于频宽的内容都讲清楚了。

256
0:16:12,4 --> 0:16:15,8
我知道我们已经讨论了FFT的许多不同方面。

257
0:16:15,81 --> 0:16:18,18
因此，我认为为了帮助大家更好地理解这些内容，

258
0:16:18,18 --> 0:16:21,51
并让FFT看起来不那么令人生畏，

259
0:16:21,5 --> 0:16:28,7
让我们通过编写MATLAB实时脚本来一步步实现单边FFT。

260
0:16:28,72 --> 0:16:31,69
首先，我有一个时域信号。

261
0:16:31,69 --> 0:16:34,63
它只是一个纯3赫兹的正弦波。

262
0:16:34,63 --> 0:16:37,66
有40个样本，采样率为40赫兹。

263
0:16:37,66 --> 0:16:39,67
我有1秒的数据。

264
0:16:39,67 --> 0:16:43,21
现在我们来构建单边FFT。

265
0:16:43,21 --> 0:16:46,15
首先，我们只需对信号进行FFT，

266
0:16:46,1 --> 0:16:51,1
然后绘制结果。这可能是新手开始时的方法。

267
0:16:51,1 --> 0:16:54,9
就像，“嘿，我做了 FFT，让我画出来看看效果。”

268
0:16:54,94 --> 0:16:57,82
但由于结果是一个复数向量，

269
0:16:57,8 --> 0:17:1,9
当你绘制它时，它会在一张图上同时显示实部和虚部。

270
0:17:1,96 --> 0:17:4,45
看起来并不直观。

271
0:17:4,45 --> 0:17:8,41
因此，我们可以将实部和虚部

272
0:17:8,41 --> 0:17:10,0
分别绘制在两个图上。

273
0:17:10,0 --> 0:17:12,31
然而，对于这个例子，我们只想

274
0:17:12,3 --> 0:17:17,7
查看响应的幅度，这可以通过取绝对值来获得。

275
0:17:17,71 --> 0:17:21,339
看看这个，我们有两个峰值，

276
0:17:21,339 --> 0:17:25,839
围绕奈奎斯特频率对称，正如我们所预期的那样。

277
0:17:25,839 --> 0:17:29,6
现在，为了得到单边FFT，我们只需

278
0:17:29,6 --> 0:17:31,4
查看频谱的一半。

279
0:17:31,4 --> 0:17:35,39
当然，由于我有偶数个时间样本，

280
0:17:35,3 --> 0:17:40,3
我们需要加1，以便也能捕获奈奎斯特频率。

281
0:17:40,38 --> 0:17:43,53
到目前为止一切顺利，只是现在我们

282
0:17:43,53 --> 0:17:46,92
希望将其绘制为以赫兹为单位的频率。

283
0:17:46,92 --> 0:17:51,78
因此，我们有k从0到n/2，

284
0:17:51,78 --> 0:17:53,67
以对应单边FFT中的21个样本。

285
0:17:53,6 --> 0:18:1,6
们通过将其乘以采样频率除以样本数来将其转换为频率。

286
0:18:1,63 --> 0:18:3,43
最后，我们可以绘制这个图。![image-20251107163530738](C:\Users\JC\AppData\Roaming\Typora\typora-user-images\image-20251107163530738.png)

287
0:18:3,43 --> 0:18:7,82
正如预期的那样，峰值正好在3赫兹处。

288
0:18:7,82 --> 0:18:11,0
你可能会经常看到单边FFT被缩放

289
0:18:11,0 --> 0:18:14,8
以考虑我们排除的负频率中的信息。

290
0:18:14,81 --> 0:18:17,51
但如果你的目标只是理解

291
0:18:17,51 --> 0:18:19,7
时间信号中包含哪些频率，

292
0:18:19,7 --> 0:18:21,59
那么缩放并不是必要的。

293
0:18:21,5 --> 0:18:25,8
例如，我们在这里可以看到信号中有一个3赫兹的成分。

294
0:18:25,8 --> 0:18:32,2
3赫兹处的值20并不与任何具体的东西相关，这并不重要。

295
0:18:32,2 --> 0:18:39,6
如果你希望理解某个量，比如某个频带中的功率是多少，那么缩放单边FFT将是重要的。

296
0:18:39,6 --> 0:18:43,0
但我们将在未来的视频中讨论功率谱，

297
0:18:43,4 --> 0:18:45,507
并在那里讨论缩放。

298
0:18:45,507 --> 0:18:47,84
好了，希望我们在本视频中涵盖的内容，

299
0:18:47,84 --> 0:18:50,6
这些逐步实现单边FFT的步骤都讲清楚了。

300
0:18:50,6 --> 0:18:52,28
如果你想自己尝试一下

301
0:18:52,28 --> 0:18:53,93
或查看一些可以了解更多信息的资源，

302
0:18:53,9 --> 0:18:57,7
我在下面留下了所有链接。

